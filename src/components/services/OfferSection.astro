---
interface Props {
  title: string;
  subtitle: string;
  price: string;
  features: string[];
  ctaText: string;
  ctaHref: string;
  guarantee?: string;
  urgency?: string;
}

const { title, subtitle, price, features, ctaText, ctaHref, guarantee, urgency } = Astro.props;
---

<section class="py-20 bg-gradient-to-br from-accent to-background relative overflow-hidden">
  <!-- Animated background dots -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-10 left-20 w-2 h-2 bg-primary/20 rounded-full animate-pulse"></div>
    <div class="absolute top-32 right-16 w-3 h-3 bg-secondary/30 rounded-full animate-ping"></div>
    <div class="absolute top-64 left-1/3 w-1 h-1 bg-primary/40 rounded-full animate-bounce"></div>
    <div class="absolute top-80 right-1/4 w-2 h-2 bg-secondary/25 rounded-full animate-pulse"></div>
    <div class="absolute top-40 right-1/2 w-1.5 h-1.5 bg-primary/35 rounded-full animate-ping"></div>
    <div class="absolute top-96 left-1/2 w-2.5 h-2.5 bg-secondary/20 rounded-full animate-bounce"></div>
  </div>

  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="text-center mb-12">
      <h2 class="text-3xl lg:text-4xl font-bold text-text-dark mb-6">
        {title}
      </h2>
      <p class="text-xl text-text-light max-w-3xl mx-auto">
        {subtitle}
      </p>
    </div>
    
    <!-- Pricing Card -->
    <div class="bg-white rounded-3xl p-8 shadow-2xl border-4 border-primary relative overflow-hidden group hover:shadow-3xl transition-all duration-500">
      <!-- Animated corner elements -->
      <div class="absolute top-0 right-0 w-0 h-0 border-l-[30px] border-l-transparent border-t-[30px] border-t-primary/20 group-hover:border-t-primary/40 transition-all duration-500"></div>
      <div class="absolute bottom-0 left-0 w-0 h-0 border-r-[30px] border-r-transparent border-b-[30px] border-b-secondary/20 group-hover:border-b-secondary/40 transition-all duration-500"></div>
      
      <!-- Urgency Badge -->
      {urgency && (
        <div class="absolute top-0 right-0 bg-red-500 text-white px-6 py-2 rounded-bl-2xl font-bold text-sm animate-pulse">
          {urgency}
        </div>
      )}
      
      <!-- Price -->
      <div class="text-center mb-8">
        <div class="text-6xl font-bold text-text-dark mb-2 group-hover:text-primary transition-colors duration-300">{price}</div>
        <p class="text-xl text-text-light">Pago único • Sin suscripciones</p>
      </div>
      
      <!-- Features -->
      <div class="space-y-4 mb-8">
        {features.map((feature, index) => (
          <div class="flex items-center space-x-3 group/feature">
            <svg class="w-6 h-6 text-green-500 flex-shrink-0 group-hover/feature:scale-110 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
            <span class="text-text-dark group-hover/feature:text-primary transition-colors duration-300">{feature}</span>
          </div>
        ))}
      </div>
      
      <!-- CTA -->
      <div class="text-center mb-6">
        <a 
          href={ctaHref}
          class="block w-full bg-yellow-400 hover:bg-yellow-500 text-black px-8 py-4 rounded-xl font-bold text-xl transition-all duration-200 transform hover:scale-105 hover:shadow-lg"
        >
          {ctaText}
        </a>
      </div>
      
      <!-- Trust indicators -->
      <div class="text-center space-y-3">
        {guarantee && (
          <div class="inline-flex items-center px-4 py-2 bg-primary/10 text-primary rounded-full text-sm font-semibold border border-primary/20 hover:bg-primary/20 transition-colors duration-300">
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
            </svg>
            {guarantee}
          </div>
        )}
        
        <div class="text-sm text-text-light space-y-1">
          <p>✓ No pedimos tarjeta de crédito</p>
          <p>✓ Cancela cuando quieras</p>
          <p>✓ Soporte incluido</p>
        </div>
      </div>
      
      <!-- Floating dots around the card -->
      <div class="absolute -top-2 -left-2 w-1 h-1 bg-primary/40 rounded-full animate-ping"></div>
      <div class="absolute -bottom-2 -right-2 w-1.5 h-1.5 bg-secondary/30 rounded-full animate-pulse"></div>
    </div>
  </div>
</section> 